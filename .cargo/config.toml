# Cargo configuration for cross-platform builds

[build]
# Default target for native builds
# target = "x86_64-unknown-linux-gnu"

[target.wasm32-unknown-unknown]
# WASM-specific build configuration
rustflags = [
    "-C", "link-arg=--no-entry",
]

[profile.release]
opt-level = "z"
lto = true
codegen-units = 1

[target.wasm32-wasi]
# WASI-specific build configuration
rustflags = [
    "-C", "opt-level=z",
    "-C", "lto=fat",
]

# Platform-specific configurations
[target.x86_64-unknown-linux-gnu]
linker = "gcc"

[target.x86_64-apple-darwin]
linker = "cc"

[target.aarch64-apple-darwin]
linker = "cc"

[target.x86_64-pc-windows-msvc]
linker = "link.exe"

[target.aarch64-pc-windows-msvc]
linker = "link.exe"
